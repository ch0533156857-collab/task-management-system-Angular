<div class="graffiti-container">
  <div class="form-card graffiti-card">
    <h2 class="graffiti-title">ğŸ‘¥ Create New Team</h2>
    
    @if(errorMessage()) {
      <div class="error-banner">ğŸ’¥ {{ errorMessage() }}</div>
    }

    <form [formGroup]="teamForm" (ngSubmit)="onSubmit()" class="graffiti-form">
      <div class="form-group">
        <label for="name">ğŸ“ Team Name:</label>
        <input type="text" id="name" formControlName="name" placeholder="Enter team name..." class="graffiti-input" />
        @if (teamForm.get('name')?.hasError('required') && teamForm.get('name')?.touched) {
          <span class="error-text">Team name is required</span>
        }
      </div>

      <div class="form-group">
        <label for="description">âœï¸ Description:</label>
        <textarea id="description" formControlName="description" placeholder="Team description..." class="graffiti-input"></textarea>
      </div>

      <div class="form-actions">
        <button type="submit" class="graffiti-btn graffiti-btn-primary" [disabled]="teamForm.invalid || isLoading()">
          @if(isLoading()) {
            <app-loading-spinner [isInline]="true"></app-loading-spinner>
          } @else {
            â• Create Team
          }
        </button>
        <button type="button" class="graffiti-btn graffiti-btn-secondary" (click)="onCancel()">âŒ Cancel</button>
      </div>
    </form>
  </div>
</div>

@if(showCancelDialog()) {
  <app-confirm-dialog 
    [title]="'Cancel Team Creation'" 
    [message]="'Are you sure you want to cancel? All data will be lost.'" 
    (confirm)="handleCancelResponse($event)">
  </app-confirm-dialog>
}